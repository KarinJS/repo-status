[
  {
    "url": "https://api.github.com/repos/KarinJS/Karin/issues/513",
    "repository_url": "https://api.github.com/repos/KarinJS/Karin",
    "labels_url": "https://api.github.com/repos/KarinJS/Karin/issues/513/labels{/name}",
    "comments_url": "https://api.github.com/repos/KarinJS/Karin/issues/513/comments",
    "events_url": "https://api.github.com/repos/KarinJS/Karin/issues/513/events",
    "html_url": "https://github.com/KarinJS/Karin/pull/513",
    "id": 3246160463,
    "node_id": "PR_kwDOLcebn86fubJG",
    "number": 513,
    "title": "refactor: plugins",
    "user": {
      "login": "sj817",
      "id": 74231782,
      "node_id": "MDQ6VXNlcjc0MjMxNzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/74231782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sj817",
      "html_url": "https://github.com/sj817",
      "followers_url": "https://api.github.com/users/sj817/followers",
      "following_url": "https://api.github.com/users/sj817/following{/other_user}",
      "gists_url": "https://api.github.com/users/sj817/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sj817/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sj817/subscriptions",
      "organizations_url": "https://api.github.com/users/sj817/orgs",
      "repos_url": "https://api.github.com/users/sj817/repos",
      "events_url": "https://api.github.com/users/sj817/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sj817/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2025-07-20T08:47:34Z",
    "updated_at": "2025-08-19T11:07:12Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "type": null,
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/KarinJS/Karin/pulls/513",
      "html_url": "https://github.com/KarinJS/Karin/pull/513",
      "diff_url": "https://github.com/KarinJS/Karin/pull/513.diff",
      "patch_url": "https://github.com/KarinJS/Karin/pull/513.patch",
      "merged_at": null
    },
    "body": "## Sourcery 总结\n\n全面改进了核心插件框架，通过引入集中式插件管理器和注册模块，将插件 API（命令、接受、按钮、任务、处理程序和类样式）统一为带有控制接口的详细缓存对象，并将常见的事件处理、过滤、冷却、权限和分发逻辑提取到可重用工具中。添加了热重载支持和用于动态文件 globbing 的新 `@karin/glob` 包。更新了服务器插件端点，整合了遗留代码，现代化了 Vite 构建配置，并提升了项目依赖。\n\n新特性：\n- 添加了 `@karin/glob` 包，包含 `importGlob` 和 `importGlobEager`，用于动态文件加载和原始内容支持\n- 为基于命令、接受、按钮、任务、处理程序和类的插件实现了集中式插件管理器和注册模块\n- 通过 `core/karin/class.ts` 引入了基于类的插件支持\n- 在 `event/utils` 下添加了统一的事件工具（`filter`、`cooldown`、`checker`、`permission`、`initializer`、`dispatch` 和 `logger`）\n- 添加了热重载函数 `reloadApp` 和 `reloadPackage`，用于实时插件更新\n\n改进：\n- 重构了所有消息、通知和请求处理程序，以使用共享的 `handleMessageCommon` 和 `dispatch` 工具\n- 重新设计了核心 Karin API，以返回带有流畅控制接口的丰富插件缓存对象\n- 更新了服务器插件端点和类型，以与新的插件缓存和管理器集成\n- 通过将 `manualChunks` 迁移到 `advancedChunks` 并调整压缩和命名设置来简化 Vite 构建配置\n- 删除了遗留的内联处理程序逻辑，并整合到新的工具驱动结构中\n\n构建：\n- 更新了 `devDependencies` 版本并添加了缺少的依赖项，如 `glob`\n\n文档：\n- 为 `@karin/glob` 包添加了 `README.md` 文档\n\n<details>\n<summary>Original summary in English</summary>\n\n## Summary by Sourcery\n\nOverhaul the core plugin framework by introducing a centralized plugin manager and register modules, unifying plugin APIs (command, accept, button, task, handler, and class styles) into detailed cache objects with control interfaces, and extracting common event handling, filtering, cooldown, permission, and dispatch logic into reusable utilities. Add hot-reload support and a new @karin/glob package for dynamic file globbing. Update server plugin endpoints, consolidate legacy code, modernize Vite build configuration, and bump project dependencies.\n\nNew Features:\n- Add @karin/glob package with importGlob and importGlobEager for dynamic file loading and raw content support\n- Implement centralized plugin manager and register modules for command, accept, button, task, handler, and class-based plugins\n- Introduce class-based plugin support via core/karin/class.ts\n- Add unified event utilities (filter, cooldown, checker, permission, initializer, dispatch, and logger) under event/utils\n- Add hot-reload functions reloadApp and reloadPackage for live plugin updates\n\nEnhancements:\n- Refactor all message, notice, and request handlers to use shared handleMessageCommon and dispatch utilities\n- Redesign core Karin APIs to return rich plugin cache objects with fluent control interfaces\n- Update server plugin endpoints and types to integrate with the new plugin cache and manager\n- Simplify Vite build configuration by migrating manualChunks to advancedChunks and adjusting compression and naming settings\n- Remove legacy inline handler logic and consolidate into the new utility-driven structure\n\nBuild:\n- Update devDependencies versions and add missing dependencies like glob\n\nDocumentation:\n- Add README.md documentation for @karin/glob package\n\n</details>",
    "closed_by": null,
    "reactions": {
      "url": "https://api.github.com/repos/KarinJS/Karin/issues/513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/KarinJS/Karin/issues/513/timeline",
    "performed_via_github_app": null,
    "state_reason": null
  },
  {
    "url": "https://api.github.com/repos/KarinJS/Karin/issues/501",
    "repository_url": "https://api.github.com/repos/KarinJS/Karin",
    "labels_url": "https://api.github.com/repos/KarinJS/Karin/issues/501/labels{/name}",
    "comments_url": "https://api.github.com/repos/KarinJS/Karin/issues/501/comments",
    "events_url": "https://api.github.com/repos/KarinJS/Karin/issues/501/events",
    "html_url": "https://github.com/KarinJS/Karin/pull/501",
    "id": 3199498901,
    "node_id": "PR_kwDOLcebn86dRoW1",
    "number": 501,
    "title": "fix: close #368 close #370",
    "user": {
      "login": "sj817",
      "id": 74231782,
      "node_id": "MDQ6VXNlcjc0MjMxNzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/74231782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sj817",
      "html_url": "https://github.com/sj817",
      "followers_url": "https://api.github.com/users/sj817/followers",
      "following_url": "https://api.github.com/users/sj817/following{/other_user}",
      "gists_url": "https://api.github.com/users/sj817/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sj817/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sj817/subscriptions",
      "organizations_url": "https://api.github.com/users/sj817/orgs",
      "repos_url": "https://api.github.com/users/sj817/repos",
      "events_url": "https://api.github.com/users/sj817/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sj817/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "labels": [
      {
        "id": 8883647275,
        "node_id": "LA_kwDOLcebn88AAAACEYGzKw",
        "url": "https://api.github.com/repos/KarinJS/Karin/labels/codex",
        "name": "codex",
        "color": "ededed",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2025-07-03T13:56:19Z",
    "updated_at": "2025-07-03T14:35:10Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "type": null,
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/KarinJS/Karin/pulls/501",
      "html_url": "https://github.com/KarinJS/Karin/pull/501",
      "diff_url": "https://github.com/KarinJS/Karin/pull/501.diff",
      "patch_url": "https://github.com/KarinJS/Karin/pull/501.patch",
      "merged_at": null
    },
    "body": "## Summary\n- implement Select component types and creator in core package\n- expose Select in component exports\n- add Select rendering for plugin configuration\n- handle Select default values and result conversions\n\n## Testing\n- `pnpm test` *(fails: vitest not found)*\n\n------\nhttps://chatgpt.com/codex/tasks/task_b_6866878c4bc0832bb33bbaaca564d188\n\n好的，这是将拉取请求摘要翻译成中文的结果：\n\n## Sourcery 总结\n\n通过定义核心类型和 API，暴露组件，并在 web 包中集成渲染和配置处理，从而端到端地添加对下拉列表（select）组件的支持。\n\n新功能：\n- 在 core 包中定义 `SelectOption` 和 `SelectProps` 类型，并提供 `select.create/default` API\n- 在核心组件导出中公开并注册 select 组件\n- 在 web 包中使用 React Hook Form 和 HeroUI 实现 `createSelect` 辅助函数，用于渲染下拉列表\n- 扩展插件配置以处理 'select' `componentType`，包括初始值、默认处理和结果转换\n\n<details>\n<summary>Original summary in English</summary>\n\n## Summary by Sourcery\n\nAdd support for dropdown (select) components end-to-end by defining core types and APIs, exposing the component, and integrating rendering and configuration handling in the web package.\n\nNew Features:\n- Define SelectOption and SelectProps types and provide select.create/default APIs in the core package\n- Expose and register the select component in the core components export\n- Implement createSelect helper in the web package with React Hook Form and HeroUI for rendering dropdowns\n- Extend plugin configuration to handle 'select' componentType, including initial values, default handling, and result conversions\n\n</details>",
    "closed_by": null,
    "reactions": {
      "url": "https://api.github.com/repos/KarinJS/Karin/issues/501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/KarinJS/Karin/issues/501/timeline",
    "performed_via_github_app": null,
    "state_reason": null
  },
  {
    "url": "https://api.github.com/repos/KarinJS/Karin/issues/497",
    "repository_url": "https://api.github.com/repos/KarinJS/Karin",
    "labels_url": "https://api.github.com/repos/KarinJS/Karin/issues/497/labels{/name}",
    "comments_url": "https://api.github.com/repos/KarinJS/Karin/issues/497/comments",
    "events_url": "https://api.github.com/repos/KarinJS/Karin/issues/497/events",
    "html_url": "https://github.com/KarinJS/Karin/pull/497",
    "id": 3187337348,
    "node_id": "PR_kwDOLcebn86cov7P",
    "number": 497,
    "title": "feat: sqlite3 web",
    "user": {
      "login": "sj817",
      "id": 74231782,
      "node_id": "MDQ6VXNlcjc0MjMxNzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/74231782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sj817",
      "html_url": "https://github.com/sj817",
      "followers_url": "https://api.github.com/users/sj817/followers",
      "following_url": "https://api.github.com/users/sj817/following{/other_user}",
      "gists_url": "https://api.github.com/users/sj817/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sj817/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sj817/subscriptions",
      "organizations_url": "https://api.github.com/users/sj817/orgs",
      "repos_url": "https://api.github.com/users/sj817/repos",
      "events_url": "https://api.github.com/users/sj817/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sj817/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2025-06-30T06:40:55Z",
    "updated_at": "2025-06-30T06:42:59Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "type": null,
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/KarinJS/Karin/pulls/497",
      "html_url": "https://github.com/KarinJS/Karin/pull/497",
      "diff_url": "https://github.com/KarinJS/Karin/pull/497.diff",
      "patch_url": "https://github.com/KarinJS/Karin/pull/497.patch",
      "merged_at": null
    },
    "body": "#371\n\n好的，这是翻译成中文的 pull request 总结：\n\n## Sourcery 总结\n\n实现全栈 SQLite 管理，通过暴露新的服务器处理程序并添加一个专门的前端页面，用于交互式数据库浏览和操作。\n\n新功能：\n- 添加后端 SQLite 数据库操作：表模式检索、数据获取和 SQL 执行端点\n- 添加前端 SQLite 管理器页面，具有用于连接到数据库、浏览表、执行 CRUD 操作和运行自定义 SQL 查询的 UI\n\n增强功能：\n- 注册新的 API 路由和客户端请求方法以进行 SQLite 操作\n- 将 SQLite 管理链接和路由集成到 Web 应用程序导航中\n\n<details>\n<summary>Original summary in English</summary>\n\n## Summary by Sourcery\n\nImplement full-stack SQLite management by exposing new server handlers and adding a dedicated frontend page for interactive database browsing and manipulation\n\nNew Features:\n- Add backend SQLite database operations: table schema retrieval, data fetching, and SQL execution endpoints\n- Add frontend SQLite manager page with UI for connecting to a database, browsing tables, performing CRUD operations, and running custom SQL queries\n\nEnhancements:\n- Register new API routes and client request methods for SQLite operations\n- Integrate a SQLite management link and route into the web app navigation\n\n</details>",
    "closed_by": null,
    "reactions": {
      "url": "https://api.github.com/repos/KarinJS/Karin/issues/497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/KarinJS/Karin/issues/497/timeline",
    "performed_via_github_app": null,
    "state_reason": null
  }
]